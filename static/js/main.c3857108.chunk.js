(this.webpackJsonppagerank=this.webpackJsonppagerank||[]).push([[0],{131:function(e,t,n){e.exports=n(197)},197:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(6),r=n.n(a),c=n(95),l=n(61),u=n(42),d=n(106),s=n(120),f=n(107),m=n.n(f),h=n(198);function g(){var e=Object(d.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  height: ","px;\n  width: ","px;\n  border: ",";\n  border-radius: 50%;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ",";\n"]);return g=function(){return e},e}var p=h.a.Text,v=h.a.Title,w=["#DB3737","#BD5A14","#F6CA2E","#27863C","#2A8093","#1E67DC","#C726C9","#944EE9"],b=s.a.div(g(),(function(e){return 2*e.radius}),(function(e){return 2*e.radius}),(function(e){return e.selected?"5px solid #FFD700":null}),(function(e){var t=e.colorIdx;return w[t]}),(function(e){return e.drag?"url('https://www.google.com/intl/en_ALL/mapfiles/closedhand.cur'), all-scroll":"url('https://www.google.com/intl/en_ALL/mapfiles/openhand.cur'), all-scroll"})),x=function(e){var t=e.id,n=e.value,a=e.colorIdx,r=e.position,c=e.radius,l=e.onDrag,d=e.onClick,s=e.onContextMenu,f=e.selected,h=e.onDoubleClick,g=Object(o.useState)(!1),w=Object(u.a)(g,2),x=w[0],k=w[1];return i.a.createElement(m.a,{position:r,onDrag:l,onStart:function(){k(!0)},onStop:function(){k(!1)}},i.a.createElement(b,{colorIdx:a,id:t.toString(),radius:c,onClick:d,onContextMenu:s,onDoubleClick:h,selected:f,drag:x},i.a.createElement("div",null,i.a.createElement(p,null,n)),i.a.createElement("div",null,i.a.createElement(v,null,t))))},k=n(200),E=n(129),y=n(67),j=n(199),O=n(70),M=n.n(O),C=window.innerWidth-150,D=window.innerHeight-150,S=[{position:{x:Math.min(50,C),y:Math.min(50,D)},id:0},{position:{x:Math.min(300,C),y:Math.min(250,D)},id:1},{position:{x:Math.min(360,C),y:Math.min(80,D)},id:2},{position:{x:Math.min(70,C),y:Math.min(300,D)},id:3},{position:{x:Math.min(600,C),y:Math.min(250,D)},id:4},{position:{x:Math.min(370,C),y:Math.min(500,D)},id:5}],I=[{from:0,to:1,weight:1},{from:1,to:2,weight:1},{from:1,to:3,weight:2},{from:1,to:4,weight:1},{from:1,to:5,weight:1},{from:2,to:0,weight:1},{from:2,to:4,weight:1},{from:3,to:0,weight:1},{from:3,to:5,weight:1},{from:5,to:2,weight:1}],L=function(){var e=Object(o.useState)(S),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(I),d=Object(u.a)(r,2),s=d[0],f=d[1],m=Object(o.useState)(void 0),h=Object(u.a)(m,2),g=h[0],p=h[1],v=Object(o.useState)(void 0),b=Object(u.a)(v,2),O=b[0],L=b[1],A=Object(o.useState)(!0),F=Object(u.a)(A,2),B=F[0],W=F[1],H=Object(o.useState)(!0),Y=Object(u.a)(H,2),J=Y[0],N=Y[1];Object(o.useEffect)((function(){document.addEventListener("mousedown",(function(e){e.target===document.body&&(p(void 0),L(void 0))})),document.addEventListener("contextmenu",(function(e){e.preventDefault(),e.target===document.body&&L({x:e.clientX,y:e.clientY})}))}),[]);var R=i.a.createElement(k.a,{onClick:function(){a((function(e){var t=e.reduce((function(e,t){var n=t.id;return n>e?n:e}),0)+1;return[].concat(Object(l.a)(e),[{position:{x:O.x,y:O.y},id:t}])})),L(void 0)},style:{position:"absolute",top:O&&O.y||0,left:O&&O.x||0,boxShadow:"0 10px 15px 0 rgba(0,0,0,0.2)"}},i.a.createElement(k.a.Item,null,"Add Node"));M.a.reset();var T=new Set;s.forEach((function(e){for(var t=e.from,n=e.to,o=e.weight,i=0;i<o;i++)M.a.link(t,n);T.add(t),T.add(n)})),n.filter((function(e){var t=e.id;return!T.has(t)})).forEach((function(e){var t=e.id;return M.a.link(t,t)}));var X=[];M.a.rank(.81,1e-6,(function(e,t){X[e]=t.toFixed(3)}));var _=n.map((function(e,t){var o=e.position,r=e.id;return i.a.createElement(x,{value:X[r]||"0.000",id:r,colorIdx:r%w.length,position:o,radius:50,onDrag:function(e,t){var o=t.x,i=t.y;o=Math.min(o,C),o=Math.max(o,0),i=Math.min(i,D),i=Math.max(i,0);var u=Object(l.a)(n),d=u.findIndex((function(e){return e.id===r}));u[d]=Object(c.a)(Object(c.a)({},u[d]),{},{position:{x:o,y:i}}),a(u)},onContextMenu:function(e){!function(e,t){if(e.preventDefault(),void 0!==g){if(g!==t){var n=s.findIndex((function(e){var n=e.from,o=e.to;return n===g&&o===t}));if(J)if(-1!==n){var o=s[n].weight+1;f((function(e){var i=Object(l.a)(e);return i[n]={from:g,to:t,weight:o},i})),E.a.success({message:"Increased the weight of link to ".concat(o)})}else f((function(e){return[].concat(Object(l.a)(e),[{from:g,to:t,weight:1}])})),E.a.success({message:"Linked successfully"});else-1!==n&&(f((function(e){var t=Object(l.a)(e);return t.splice(n,1),t})),E.a.success({message:"Linked removed successfully"}))}p(void 0)}else p(t)}(e,r)},selected:g===r,onDoubleClick:function(){!function(e){a((function(t){return t.filter((function(t){return t.id!==e}))})),f((function(t){return t.filter((function(t){var n=t.to,o=t.from;return n!==e&&o!==e}))}))}(r)},key:r})})),q=s.map((function(e,t){var o=e.from,a=e.to,r=e.weight,c=n.find((function(e){return e.id===o})),l=n.find((function(e){return e.id===a}));if(!c||!l)return i.a.createElement(i.a.Fragment,null);var u=c.position,d=u.x,s=u.y,f=l.position,m=f.x,h=f.y,g=Math.sqrt(Math.pow(m-d,2)+Math.pow(h-s,2)),p=(50+10*r)*(m-d)/g,v=(50+10*r)*(h-s)/g;return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(window.innerWidth," ").concat(window.innerHeight),style:{position:"absolute",top:0,zIndex:-1},key:t},i.a.createElement("defs",null,i.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},i.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"}))),i.a.createElement("line",{x1:d+50,y1:s+50,x2:m+50-p,y2:h+50-v,stroke:"#000",strokeWidth:r,markerEnd:"url(#arrowhead)"}))}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,_,q,O?R:null),i.a.createElement("div",null,i.a.createElement(y.a,{onClick:function(){N((function(e){return!e}))},style:{position:"absolute"}},J?"Linking":"Unlinking"),_,q,O?R:null),i.a.createElement(j.a,{title:"Instructions",visible:B,onOk:function(){W(!1)},cancelButtonProps:{style:{display:"none"}}},i.a.createElement("p",null,"You can drag the nodes around"),i.a.createElement("p",null,"Right click node to node to link / unlink them depending on linking state"),i.a.createElement("p",null,"Change linking state from linking to unlinking and vice versa by clicking the button on the top left"),i.a.createElement("p",null,"Double click a node to delete it"),i.a.createElement("p",null,'Right click blank space and select "Add Node" to add a node')))};n(196);r.a.render(i.a.createElement(L,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.c3857108.chunk.js.map